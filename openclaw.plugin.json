{
  "id": "mcp-bridge",
  "name": "MCP Bridge",
  "version": "0.2.0",
  "description": "Smart MCP aggregator â€” connect any MCP server to OpenClaw without the token tax",
  "configSchema": {
    "type": "object",
    "properties": {
      "mode": {
        "type": "string",
        "enum": ["smart", "traditional"],
        "default": "smart",
        "description": "Operating mode. smart = relevance-based tool selection, traditional = register all tools at startup."
      },
      "servers": {
        "type": "array",
        "description": "Explicit MCP server definitions",
        "items": {
          "type": "object",
          "properties": {
            "name": { "type": "string" },
            "transport": { "type": "string", "enum": ["stdio", "http", "sse"] },
            "command": { "type": "string" },
            "args": { "type": "array", "items": { "type": "string" } },
            "url": { "type": "string" },
            "env": {
              "type": "object",
              "additionalProperties": { "type": "string" }
            },
            "headers": {
              "type": "object",
              "additionalProperties": { "type": "string" }
            },
            "categories": {
              "type": "array",
              "items": { "type": "string" }
            }
          },
          "required": ["name", "transport"]
        }
      },
      "autoDiscover": {
        "type": "boolean",
        "default": true,
        "description": "Auto-discover MCP servers from ~/.mcp.json"
      },
      "analyzer": {
        "type": "object",
        "description": "Advanced smart-mode settings. Ignored when mode is traditional.",
        "properties": {
          "maxToolsPerTurn": { "type": "number", "default": 5 },
          "relevanceThreshold": { "type": "number", "default": 0.3 },
          "highConfidenceThreshold": { "type": "number", "default": 0.7 },
          "recentToolBoost": { "type": "number", "default": 0.15 }
        }
      },
      "cache": {
        "type": "object",
        "description": "Smart-mode result caching. Ignored when mode is traditional.",
        "properties": {
          "enabled": { "type": "boolean", "default": true },
          "ttlMs": { "type": "number", "default": 30000 },
          "maxEntries": { "type": "number", "default": 100 }
        }
      }
    }
  }
}
